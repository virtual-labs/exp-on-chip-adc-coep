<!DOCTYPE html><html lang="en"><head>
      <!--Google Tag Manager-->
      <script class="gtm">
        var dataLayer = [{
        'labName': 'Virtual Lab',
        'discipline': 'Test',
        'college': 'COEP',
        'phase': 'Testing',
        'expName': 'PROGRAMMING WITH ON-CHIP ADC',
        'expShortName': 'on-chip-adc'
        }];
    
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-5NMQ9NQ');
      </script>
      <!--End Google Tag Manager-->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="" name="description">
    <meta content="" name="author">
    
    	<meta name="experiment-short-name" content="on-chip-adc">
    	<meta name="developer-institute" content="COEP">
    	<meta name="learning-unit" content="PROGRAMMING WITH ON-CHIP ADC">
    	<meta name="task-name" content="Theory">
    
    <!-- For iPhone -->
    <meta name="msapplication-TileColor" content="#4076e0">
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#4076e0">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#4076e0">
    <title>Virtual Labs</title>
    <link rel="shortcut icon" href="./assets/images/favicon.ico">
    <link rel="stylesheet" href="./assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css" integrity="sha512-Oy18vBnbSJkXTndr2n6lDMO5NN31UljR8e/ICzVPrGpSud4Gkckb8yUpqhKuUNoE+o9gAb4O/rAxxw1ojyUVzg==" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&amp;family=Raleway&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./assets/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./assets/css/github-markdown.min.css">
    <link rel="stylesheet" href="./assets/css/vlabs-style.css">
    <link rel="stylesheet" href="./assets/css/toast.css">
    <link rel="stylesheet" href="./assets/katex_assets/katex.min.css">
    
    <script src="./assets/js/jquery-3.4.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
      h1 {
      font-size: 1.8rem;
      }
      h2 {
      font-size: 1.4rem;
      }
      h3 {
      font-size: 1.2rem;
      }

      h2, h3 {
      font-weight: 800;
      }
    </style>
    
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"></head>
  <body class="p-0 container-fluid vlabs-page d-flex flex-column justify-content-between">
      <!--Google Tag Manager (noscript)-->
      <noscript class="gtm">
        <iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-5NMQ9NQ" style="display:none;visibility:hidden" width="0">
        </iframe>
      </noscript>
      <!--End Google Tag Manager (noscript)-->
  
      <header class="vlabs-header sticky-top bg-white">
        <nav class="p-0 navbar navbar-light d-flex align-items-stretch">
          
          <button class="navbar-toggler px-4" type="button" onclick="toggle()">
            <span class="navbar-toggler-icon"></span>
          </button>
      
          <div class="d-flex justify-content-center">        
            <a href="https://vlab.co.in" class="navbar-brand">
              <img src="./assets/images/vlabs-color-small-moe.jpg" alt="vlabs logo" class="vlabs-logo">
            </a>
          </div>
          
          <div id="headerNavbar" class="d-none border-top flex-grow-1 d-lg-flex align-items-center justify-content-end">
            <div class="svc-rating-display">
                <rating-display spreadsheetid="1x12nhpp0QvnsA6x-O1sV4IA9SAbfVsq_wiexWkutOmU" sheetname="Experiment-Database" columnname="Experiment Short Name" columnvalue="on-chip-adc" imagesdirectory="/plugins/svc-rating/images/">
                </rating-display>
            </div>      <div class="svc-rating-submit">
                <rating-submit title="Rate" this="" experiment="">
                </rating-submit>
            </div>      <bug-report id="bug-report" title="[BUG REPORT] PROGRAMMING WITH ON-CHIP ADC" page-type="text" context-info="{&quot;organisation&quot;:&quot;Virtual Labs&quot;,&quot;developer_institute&quot;:&quot;COEP&quot;,&quot;expname&quot;:&quot;PROGRAMMING WITH ON-CHIP ADC&quot;,&quot;labname&quot;:&quot;Virtual Lab&quot;,&quot;phase&quot;:&quot;Testing&quot;}" checkbox-json="{&quot;text&quot;:[&quot;Insufficient Content&quot;],&quot;video&quot;:[&quot;Insufficient Content&quot;],&quot;assesment&quot;:[&quot;Incorrect Options&quot;,&quot;Incorrect Answer&quot;,&quot;Incorrect Question&quot;],&quot;assessment&quot;:[&quot;Incorrect Options&quot;,&quot;Incorrect Answer&quot;,&quot;Incorrect Question&quot;],&quot;simulation&quot;:[&quot;Simulation Not Working&quot;,&quot;Incorrect Results/Observations&quot;,&quot;Insufficient/Incorrect Instructions&quot;],&quot;DEFAULT&quot;:[&quot;Page Not Loading&quot;,&quot;Content Not Visible&quot;,&quot;Incorrect Content&quot;]}" button_style="border: none; color: #fff; background-color: #288ec8; text-align: center; font-size: 1.05rem; border-radius: 1em;padding: 0.6em 1.2em; margin: 0 10px" position="override" custom_button_class="v-button"></bug-report>
          </div>
        </nav>
      </header>
      <div class="container-fluid flex-fill d-flex flex-column vlabs-page-main">
        <div class="row d-flex justify-content-between">
          <div class="flex-column">
          <div class="row py-4 px-4 breadcrumbs">
          	<div class="title is-4 tools">Tools</div>
          	<span class="mx-2">
          		<i aria-hidden="true" class="fa fa-angle-right"></i>
          	</span>
          	<a href="performance-report.html" class="my-2 mx-3" target="_blank">
          		<button class="v-button">Performance Tool</button>
          	</a>
          	<a href="validator-report.html" class="my-2 mx-3" target="_blank">
          		<button class="v-button">Validation Tool</button>
          	</a>
          </div>
          </div>
        </div>
        <div class="row flex-grow-1 d-flex flex-nowrap flex-column flex-lg-row">
          <div class="modal fade popupmenu" id="popupMenu" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                  <div class="modal-content">
                      <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLabel">
                              <a href="https://vlab.co.in" class="navbar-brand">
                                  <img src="./assets/images/vlabs-color-small-moe.jpg" alt="vlabs logo" class="vlabs-logo">
                              </a>
                          </h5>
                          <button type="button" class="btn-close align-self-center" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body nav-menu">
                              <div>
                                  <div class="d-flex nav-menu-body">
                                      <a href="index.html" class="p-2 ">
                                      Aim
                                      </a>
                                      
                                  </div>
                                  <div id="t-" class="collapse">
                                      <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                                      </div>
                                  </div>
                              </div>
                              <div>
                                  <div class="d-flex nav-menu-body">
                                      <a href="theory.html" class="p-2  current-item ">
                                      Theory
                                      </a>
                                      
                                  </div>
                                  <div id="t-" class="collapse">
                                      <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                                      </div>
                                  </div>
                              </div>
                              <div>
                                  <div class="d-flex nav-menu-body">
                                      <a href="pretest.html" class="p-2 ">
                                      Pretest
                                      </a>
                                      
                                  </div>
                                  <div id="t-" class="collapse">
                                      <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                                      </div>
                                  </div>
                              </div>
                              <div>
                                  <div class="d-flex nav-menu-body">
                                      <a href="procedure.html" class="p-2 ">
                                      Procedure
                                      </a>
                                      
                                  </div>
                                  <div id="t-" class="collapse">
                                      <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                                      </div>
                                  </div>
                              </div>
                              <div>
                                  <div class="d-flex nav-menu-body">
                                      <a href="simulation.html" class="p-2 ">
                                      Simulation
                                      </a>
                                      
                                  </div>
                                  <div id="t-" class="collapse">
                                      <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                                      </div>
                                  </div>
                              </div>
                              <div>
                                  <div class="d-flex nav-menu-body">
                                      <a href="posttest.html" class="p-2 ">
                                      Posttest
                                      </a>
                                      
                                  </div>
                                  <div id="t-" class="collapse">
                                      <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                                      </div>
                                  </div>
                              </div>
                              <div>
                                  <div class="d-flex nav-menu-body">
                                      <a href="references.html" class="p-2 ">
                                      References
                                      </a>
                                      
                                  </div>
                                  <div id="t-" class="collapse">
                                      <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                                      </div>
                                  </div>
                              </div>
                              <div>
                                  <div class="d-flex nav-menu-body">
                                      <a href="feedback.html" class="p-2 ">
                                      Feedback
                                      </a>
                                      
                                  </div>
                                  <div id="t-" class="collapse">
                                      <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                                      </div>
                                  </div>
                              </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="nav flex-column sidebar nav-menu flex-shrink-0 px-lg-4 align-items-center align-items-lg-start hidden d-none d-lg-flex" id="menu">
                <div>
                    <div class="d-flex nav-menu-body">
                        <a href="index.html" class="p-2 ">
                        Aim
                        </a>
                        
                    </div>
                    <div id="t-" class="collapse">
                        <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                        </div>
                    </div>
                </div>
                <div>
                    <div class="d-flex nav-menu-body">
                        <a href="theory.html" class="p-2  current-item ">
                        Theory
                        </a>
                        
                    </div>
                    <div id="t-" class="collapse">
                        <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                        </div>
                    </div>
                </div>
                <div>
                    <div class="d-flex nav-menu-body">
                        <a href="pretest.html" class="p-2 ">
                        Pretest
                        </a>
                        
                    </div>
                    <div id="t-" class="collapse">
                        <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                        </div>
                    </div>
                </div>
                <div>
                    <div class="d-flex nav-menu-body">
                        <a href="procedure.html" class="p-2 ">
                        Procedure
                        </a>
                        
                    </div>
                    <div id="t-" class="collapse">
                        <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                        </div>
                    </div>
                </div>
                <div>
                    <div class="d-flex nav-menu-body">
                        <a href="simulation.html" class="p-2 ">
                        Simulation
                        </a>
                        
                    </div>
                    <div id="t-" class="collapse">
                        <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                        </div>
                    </div>
                </div>
                <div>
                    <div class="d-flex nav-menu-body">
                        <a href="posttest.html" class="p-2 ">
                        Posttest
                        </a>
                        
                    </div>
                    <div id="t-" class="collapse">
                        <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                        </div>
                    </div>
                </div>
                <div>
                    <div class="d-flex nav-menu-body">
                        <a href="references.html" class="p-2 ">
                        References
                        </a>
                        
                    </div>
                    <div id="t-" class="collapse">
                        <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                        </div>
                    </div>
                </div>
                <div>
                    <div class="d-flex nav-menu-body">
                        <a href="feedback.html" class="p-2 ">
                        Feedback
                        </a>
                        
                    </div>
                    <div id="t-" class="collapse">
                        <div class="px-3 d-flex flex-column tasks align-items-center align-items-lg-start">
                        </div>
                    </div>
                </div>
          </div>          <div class="vlabs-page-content px-5 pb-4 flex-grow-1 markdown-body">
            <div class="text-center fix-spacing">
              <h2 id="programming-with-on-chip-adc">Programming with on-chip ADC</h2>
          
            </div>
              <h2 id="theory-">Theory :</h2>
          <h4 id="1-adc-devices-">1. ADC Devices :</h4>
          <p> Analog to digital converters are among the most widely used devices for data acquisitions. Digital computers use binary (discrete) value but in physical world everything is analog (continuous). A physical quantity is converted to electrical signals using device called transducer or also called as sensors. Sensors and many other natural quantities produce an output that is voltage (or current). Therefore we need an analog - to - digital converter to translate the analog signal to digital numbers so that the microcontroller can read and process them. The ADC chips are either parallel or serial. In parallel ADC, we have 8 or more pins dedicated to bring out the binary data, but in serial ADC we have only one pin for data out. 
          Some of the major characteristics of ADC are :<br>
          a) resolution <br>
          b) conversion time <br>
          c) reference voltage (Vref).       </p>
          <h5 id="11-resolution">1.1 Resolution</h5>
          <p> An ADC has an n bit resolution where n can be 8, 10, 16, 0r even 24 bits. The higher resolution ADC provides a smaller step size, where step size is smallest change that can be discerned by an ADC. This is shown in below Table Although the resolution for ADC chip is designed at the time of its design and cannot be changed, we can control the step size with the help of reference voltage (Vref). </p>
          <table>
          <thead>
          <tr>
          <th align="right">n - bit</th>
          <th align="left">Number of steps</th>
          <th align="left">Step Size (mV)</th>
          </tr>
          </thead>
          <tbody><tr>
          <td align="right">8</td>
          <td align="left">256</td>
          <td align="left">5/256 = 19.53</td>
          </tr>
          <tr>
          <td align="right">10</td>
          <td align="left">1024</td>
          <td align="left">5/1024 = 4.88</td>
          </tr>
          <tr>
          <td align="right">12</td>
          <td align="left">4096</td>
          <td align="left">5/4096 = 1.2</td>
          </tr>
          <tr>
          <td align="right">16</td>
          <td align="left">65536</td>
          <td align="left">5/65536 = 0.076</td>
          </tr>
          </tbody></table>
          <h5 id="12-conversion-time">1.2 Conversion time</h5>
          <p> Conversion time is defined as the time it takes the ADC to convert the analog input to digital (binary) number. The conversion time is dictated by the clock source connected to the ADC in addition to the method used for data conversion and technology used in the fabrication of the ADC chip. <br>
           In addition to conversion time, acquisition time is another major factor in judging an ADC. Acquisition time is defined as the time it takes to sample the analog voltage using sample and hold circuit. Sampled analog input is applied to actual conversion unit of ADC. In some of the ADCs, conversion time doesn’t contain the acquisition time but specified separately. Therefore effective conversion time is addition of specified conversion time and specified acquisition time. </p>
          <h5 id="13-reference-voltage-vref">1.3 Reference Voltage (Vref)</h5>
          <p> Vref is an input voltae used for the reference voltage. The voltage connected to this pin, along with resolution of the ADC chip, gives us the step size. 
          step size = Vref / 2n   where n= no. of bits 
          For example,
          If the analog input range needs to be 0 to 3 Volts, Vref is connected to 3 Volts. That gives, 3V/1024 = 2.92 mV step size for 10-bit ADC.</p>
          <table>
          <thead>
          <tr>
          <th align="right">Vref (V)</th>
          <th align="center">Vin (V)</th>
          <th align="left">Step Size (mV)</th>
          </tr>
          </thead>
          <tbody><tr>
          <td align="right">5.00</td>
          <td align="center">0 to 5</td>
          <td align="left">5/1024 = 4.88</td>
          </tr>
          <tr>
          <td align="right">2.56</td>
          <td align="center">0 to 2.56</td>
          <td align="left">2.56/1024 = 2.5</td>
          </tr>
          <tr>
          <td align="right">1.024</td>
          <td align="center">0 to 1.024</td>
          <td align="left">1.024/1024 = 1</td>
          </tr>
          </tbody></table>
          <h4 id="2-10-bit-analog-to-digital-converter-ad-module-of-pic-uc">2. 10-Bit Analog-To-Digital Converter (A/D) Module of PIC uC</h4>
          <p>The Analog-to-Digital (A/D) converter module has 10 inputs for the 28-pin devices and 13 for the 40/44-pin devices. This module allows conversion of an analog input signal to a corresponding 10-bit digital number.</p>
          <h5 id="22-pin-description">2.2 Pin Description:</h5>
          <table>
          <thead>
          <tr>
          <th>Signal</th>
          <th align="center">Pin No.</th>
          <th align="left">Symbol</th>
          </tr>
          </thead>
          <tbody><tr>
          <td>Channel 0 (AN0)</td>
          <td align="center">2</td>
          <td align="left">RA0/AN0</td>
          </tr>
          <tr>
          <td>Channel 1 (AN1)</td>
          <td align="center">3</td>
          <td align="left">RA1/AN1</td>
          </tr>
          <tr>
          <td>Channel 2 (AN2)</td>
          <td align="center">4</td>
          <td align="left">RA2/AN2/Vref-/CVref</td>
          </tr>
          <tr>
          <td>Channel 3 (AN3)</td>
          <td align="center">5</td>
          <td align="left">RA3/AN3/Vref+</td>
          </tr>
          <tr>
          <td>Channel 4 (AN4)</td>
          <td align="center">7</td>
          <td align="left">RA5/AN4/SS/HLVDIN/C2OUT</td>
          </tr>
          <tr>
          <td>Channel 5 (AN5)</td>
          <td align="center">8</td>
          <td align="left">RE0/AN5/CK1SPP</td>
          </tr>
          <tr>
          <td>Channel 6 (AN6)</td>
          <td align="center">9</td>
          <td align="left">RE1/AN6/CK2SPP</td>
          </tr>
          <tr>
          <td>Channel 7 (AN7)</td>
          <td align="center">10</td>
          <td align="left">RE2/AN7/OESPP</td>
          </tr>
          <tr>
          <td>Channel 8 (AN8)</td>
          <td align="center">35</td>
          <td align="left">RB2/AN8/INT2/VMO</td>
          </tr>
          <tr>
          <td>Channel 9 (AN9)</td>
          <td align="center">36</td>
          <td align="left">RB3/AN9/VPO</td>
          </tr>
          <tr>
          <td>Channel 10 (AN10)</td>
          <td align="center">34</td>
          <td align="left">RB1/AN10/INT1/SCK/SCL</td>
          </tr>
          <tr>
          <td>Channel 11 (AN11)</td>
          <td align="center">37</td>
          <td align="left">RB4/AN11/KBIO/CSSPP</td>
          </tr>
          <tr>
          <td>Channel 12 (AN12)</td>
          <td align="center">33</td>
          <td align="left">RB0/AN12/INT0/FLT0/SDI/SDA</td>
          </tr>
          </tbody></table>
          <h5 id="23-adc-register-map">2.3 ADC Register Map:</h5>
          <table>
          <thead>
          <tr>
          <th align="right">SFR</th>
          <th align="left">Description</th>
          <th align="left">Access</th>
          <th align="center">Reset Value</th>
          <th align="left">Address</th>
          </tr>
          </thead>
          <tbody><tr>
          <td align="right">ADCON0</td>
          <td align="left">A/D Control Register 0</td>
          <td align="left">Read/Write</td>
          <td align="center">0x00</td>
          <td align="left">0xFC2</td>
          </tr>
          <tr>
          <td align="right">ADCON1</td>
          <td align="left">A/D Control Register 1</td>
          <td align="left">Read/Write</td>
          <td align="center">0x00</td>
          <td align="left">0xFC1</td>
          </tr>
          <tr>
          <td align="right">ADCON2</td>
          <td align="left">A/D Control Register 2</td>
          <td align="left">Read/Write</td>
          <td align="center">0x00</td>
          <td align="left">0xFC0</td>
          </tr>
          <tr>
          <td align="right">ADRESH</td>
          <td align="left">A/D Result High Register</td>
          <td align="left">Read</td>
          <td align="center">unknown</td>
          <td align="left">0xFC4</td>
          </tr>
          <tr>
          <td align="right">ADRESL</td>
          <td align="left">A/D Result Low Register</td>
          <td align="left">Read</td>
          <td align="center">unknown</td>
          <td align="left">0xFC3</td>
          </tr>
          </tbody></table>
          <h5 id="24-adc-register-description">2.4 ADC Register Description</h5>
          <h5 id="241-ad-control-register-0-adcon0">2.4.1 A/D Control Register 0 (ADCON0)</h5>
          <table>
          <thead>
          <tr>
          <th>U-0</th>
          <th align="left">U-0</th>
          <th align="left">R/W-0</th>
          <th align="center">R/W-0</th>
          <th align="center">R/W-0</th>
          <th align="right">R/W-0</th>
          <th align="center">R/W-0</th>
          <th align="left">R/W-0</th>
          </tr>
          </thead>
          <tbody><tr>
          <td>-</td>
          <td align="left">-</td>
          <td align="left">CHS3</td>
          <td align="center">CHS2</td>
          <td align="center">CHS1</td>
          <td align="right">CHS0</td>
          <td align="center">GO/DONE</td>
          <td align="left">ADON</td>
          </tr>
          <tr>
          <td>bit 7</td>
          <td align="left"></td>
          <td align="left"></td>
          <td align="center"></td>
          <td align="center"></td>
          <td align="right"></td>
          <td align="center"></td>
          <td align="left">bit 0</td>
          </tr>
          </tbody></table>
          <p><img src="images/figure1.PNG" alt="1"></p>
          <p><strong>ADCON0 Register in our Program</strong><br>
          bit7-6 This two bits are Unimplemented so we write this bit as 00 <br>
          bit5-2 Analog input is connected to Channel 1 (AN1). so we have to write CHS3:CHS0 analog channal select bits as 0001<br>
          bit1 Start Conversion by setting this bit. Later on poll the same conversion status. 
          Bit0 To turn ON ADC set this bit 1.</p>
          <h5 id="242-ad-control-register-1-adcon1">2.4.2 A/D Control Register 1 (ADCON1)</h5>
          <p><img src="images/figure2.PNG" alt="2"></p>
          <p><strong>ADCON1 Register in our Program</strong></p>
          <ul>
          <li>Bit7-6 This two bits are Unimplemented so we write this bit as 00 </li>
          <li>Bit 5 In our application (VREF-) supply as 0 volt so we write this bit as 0. </li>
          <li>Bit 4 In our application (VREF+) supply as 5 volt so we write this bit as 0. </li>
          <li>Bit3-0 Here we are using only one analog channal AN1. Therefor we write this bit as PCFG3:PCFG0 - 1101.</li>
          </ul>
          <h5 id="243-ad-control-register-2-adcon2">2.4.3 A/D Control Register 2 (ADCON2)</h5>
          <table>
          <thead>
          <tr>
          <th>R/W-0</th>
          <th align="left">U-0</th>
          <th align="left">R/W-0</th>
          <th align="center">R/W-0</th>
          <th align="center">R/W-0</th>
          <th align="right">R/W-0</th>
          <th align="center">R/W-0</th>
          <th align="left">R/W-0</th>
          </tr>
          </thead>
          <tbody><tr>
          <td>ADFM</td>
          <td align="left">-</td>
          <td align="left">ACQT2</td>
          <td align="center">ACQT1</td>
          <td align="center">ACQT0</td>
          <td align="right">ADCS2</td>
          <td align="center">ADCS1</td>
          <td align="left">ADCS0</td>
          </tr>
          <tr>
          <td>bit 7</td>
          <td align="left"></td>
          <td align="left"></td>
          <td align="center"></td>
          <td align="center"></td>
          <td align="right"></td>
          <td align="center"></td>
          <td align="left">bit 0</td>
          </tr>
          </tbody></table>
          <p><img src="images/figure3.PNG" alt="3"></p>
          <h6 id="2431-ad-result-format-select-bit-adfm"><strong>2.4.3.1 A/D Result Format Select bit (ADFM):</strong></h6>
          <p> We need right justified data. Therefore ADFM = ‘1’.
          If you write 1 then result is right justified as shown below; </p>
          <p><img src="images/figure4.PNG" alt="4"></p>
          <p>If you write 0 then result is left justified as shown below;</p>
          <p><img src="images/figure5.PNG" alt="5"></p>
          <h6 id="2432-ad-conversion-clock-select-bits-adcs2adcs0"><strong>2.4.3.2 A/D Conversion Clock Select bits (ADCS2:ADCS0)</strong></h6>
          <p> The A/D conversion time per bit is defined as TAD. The A/D conversion requires 11 TAD per 10-bit conversion. The source of the A/D conversion clock is software selectable. There are seven possible options for TAD as shown in table For correct A/D conversions, the A/D conversion clock (TAD) must be as short as possible but greater than the minimum TAD. Table shows the resultant TAD times derived from the device operating frequencies and the A/D clock source selected. 
          <strong>Minimum TAD = 0.7 us</strong> (to be maintained as per datasheet) 
          Therefore for 10bit ADC 
          Typical conversion time = 11 TAD = 11 * 0.7 us = 7.7 us</p>
          <p><img src="images/figure6.PNG" alt="6"></p>
          <h6 id="2433-ad-acquisition-time-select-bits"><strong>2.4.3.3 A/D Acquisition Time Select bits</strong></h6>
          <p>Figure 1 shows the acquisition time (TACQ) is depends on amplifier settling time, capacitor charging time and temperature coefficient. 
          TACQ = TAMP + TC + TCOFF <br>
          Where, <br>
          TAMP : Amplifier Settling Time = 0.2 us (Typical value) <br>
          TC : Holding Capacitor Chargi <br>
              = -(CHOLD)(RIC + RSS + RS) ln(1/2048) µs  <br>
              = -(25 pF) (1 kΩ + 2 kΩ + 2.5 kΩ) ln(0.0004883) µs (Typical value) <br>
              = 1.05 µs  <br>
          TCOFF : Temperature Coefficient = (Temp – 25°C)(0.02 µs/°C)  <br>
                                          = (85°C – 25°C)(0.02 µs/°C) (Typical temp) <br>
                                          = 1.2 µs  <br></p>
          <p><img src="images/figure7.png" alt="7"></p>
          <p>Therefore minimum calculated acquisition time is<br><strong>TACQ = 0.2 µs + 1.05 µs + 1.2 µs = 2.45 µs</strong>
          Derived A/D acquisition time ≥ Calculated acquisition time TACQ Derived A/D acquisition time = n x TAD where n is depends on A/D Acquisition Time Select bits (ACQT2:ACQT0). So select A/D Acquisition Time Select bits (ACQT2:ACQT0) such that the we meet above timings. </p>
          <h4 id="25-calculations">2.5 Calculations</h4>
          <p> <img src="images/figure9.png" alt="8"></p>
          <h4 id="26-adc-operation">2.6 ADC operation</h4>
          <p><img src="images/figure8.png" alt="9"></p>
          <p>The following steps should be followed to perform an A/D conversion :</p>
          <ol>
          <li>Configure the A/D module:<ul>
          <li> Configure analog pins, voltage reference and digital I/O (ADCON1)</li>
          <li> Select A/D input channel (ADCON0)</li>
          <li> Select A/D acquisition time (ADCON2)</li>
          <li> Select A/D conversion clock (ADCON2)</li>
          <li> Turn on A/D module (ADCON0)</li>
          </ul>
          </li>
          <li>Configure A/D interrupt (if desired):<ul>
          <li> Clear ADIF bit </li>
          <li> Set ADIE bit </li>
          <li> Set GIE bit </li>
          </ul>
          </li>
          <li>Wait the required acquisition time (if required).</li>
          <li>Start conversion: <ul>
          <li> Set GO/DONE bit (ADCON0 register)</li>
          </ul>
          </li>
          <li>Wait for A/D conversion to complete, by either:<ul>
          <li>Polling for the GO/DONE bit to be cleared
          OR </li>
          <li> Waiting for the A/D interrupt</li>
          </ul>
          </li>
          <li>Read A/D Result registers (ADRESH:ADRESL);</li>
          <li>For next conversion, go to step 1 or step 2, as per bit is defined as TAD. A minimum wait of 3 TAD is acquisition starts. </li>
          </ol>
          
          </div>
          <div class="bug-report-mobile">
              <bug-report id="bug-report" title="[BUG REPORT] PROGRAMMING WITH ON-CHIP ADC" page-type="text" context-info="{&quot;organisation&quot;:&quot;Virtual Labs&quot;,&quot;developer_institute&quot;:&quot;COEP&quot;,&quot;expname&quot;:&quot;PROGRAMMING WITH ON-CHIP ADC&quot;,&quot;labname&quot;:&quot;Virtual Lab&quot;,&quot;phase&quot;:&quot;Testing&quot;}" checkbox-json="{&quot;text&quot;:[&quot;Insufficient Content&quot;],&quot;video&quot;:[&quot;Insufficient Content&quot;],&quot;assesment&quot;:[&quot;Incorrect Options&quot;,&quot;Incorrect Answer&quot;,&quot;Incorrect Question&quot;],&quot;assessment&quot;:[&quot;Incorrect Options&quot;,&quot;Incorrect Answer&quot;,&quot;Incorrect Question&quot;],&quot;simulation&quot;:[&quot;Simulation Not Working&quot;,&quot;Incorrect Results/Observations&quot;,&quot;Insufficient/Incorrect Instructions&quot;],&quot;DEFAULT&quot;:[&quot;Page Not Loading&quot;,&quot;Content Not Visible&quot;,&quot;Incorrect Content&quot;]}" position="override" button_style="
                          position: fixed; 
                          bottom: 20px;
                          right: 20px;
                          z-index: 1;
                          font-size: 0;
                          padding: 25px;
                          border-radius: 50%;
                          border: none;
                          background-color: #0fc0ff;
                          background-image: url(data:image/png;base64,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);
                          background-repeat: no-repeat;
                          background-position: center;
                          background-size: 30px;
                          filter: invert(1);">
              </bug-report>
          </div>        </div>
      </div>
      <footer class="text-light pt-2 vlabs-footer d-flex flex-column">
        <div class="row px-5 mx-0">
          <div class="col d-flex flex-column">
            <span class="font-weight-bold vlabs-footer-sect-name pb-2 mb-3">Community Links</span>
            <a href="https://www.sakshat.ac.in/" class="text-light">Sakshat Portal</a>
            <a href="http://outreach.vlabs.ac.in/" class="text-light">Outreach Portal</a>
            <a href="https://vlab.co.in/faq" class="text-light">FAQ: Virtual Labs</a>
          </div>
          <div class="col d-flex flex-column">
            <span class="font-weight-bold vlabs-footer-sect-name pb-2 mb-3">Contact Us</span>
            <span> Phone: General Information: 011-26582050 </span>
            <span> Email: support@vlabs.ac.in </span>
          </div>
          <div class="col d-flex flex-column">
            <span class="font-weight-bold vlabs-footer-sect-name pb-2 mb-3">Follow Us</span>
            <div class="social-links">
      	<a class="p-2 mt-1 mr-2 d-inline-flex justify-content-center align-items-center" style="background: #55acee;" href="https://twitter.com/TheVirtualLabs">
      	  <i class="fab fa-twitter"></i>
      	</a>
      	<a class="p-2 mt-1 mr-2 d-inline-flex justify-content-center align-items-center" style="background: #3b5998;" href="https://www.facebook.com/Virtual-Labs-IIT-Delhi-301510159983871/">
      	  <i class="fab fa-facebook"></i>
      	</a>
      	<a class="p-2 mt-1 mr-2 d-inline-flex justify-content-center align-items-center" style="background: #e52d27;" href="https://www.youtube.com/watch?v=asxRaOgk6a0">
      	  <i class="fab fa-youtube"></i>
      	</a>
      	<a class="p-2 mt-1 mr-2 d-inline-flex justify-content-center align-items-center" style="background: #2867B2;" href="https://in.linkedin.com/in/virtual-labs-008ba9136">
      	  <i class="fab fa-linkedin"></i>
      	</a>
            </div>
          </div>
        </div>
        <div class="m-0 py-2 text-center" style="font-family: &quot;Open Sans&quot;, sans-serif; background: #212121;">
          <a class="text-primary font-weight-bold" href="https://www.gnu.org/licenses/agpl-3.0.en.html"> AGPL 3.0 </a>
          &nbsp;&amp;&nbsp;
          <a class="text-primary font-weight-bold" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"> Creative Commons (CC BY-NC-SA 4.0) </a>
        </div>
      </footer>
    <script src="./assets/js/toggleSidebar.js"></script>
    <script src="./assets/js/event-handler.js"></script>


    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register("sw.js");
        });
      }
    </script>
  

<script type="module" src="https://cdn.vlabs.ac.in/bug-report/vlabs-bug-report.js"></script><script type="module" src="/exp-on-chip-adc-coep/plugins/svc-rating/index.js"></script><script type="module" src="/exp-on-chip-adc-coep/plugins/svc-rating/config.js"></script><script type="module" src="https://apis.google.com/js/api.js"></script></body></html>